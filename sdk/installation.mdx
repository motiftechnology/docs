---
title: "SDK Installation"
description: "Install and set up the ChaterAfrika JavaScript SDK"
---

## Installation

### NPM

```bash
npm install @chatafrika/sdk
```

### Yarn

```bash
yarn add @chatafrika/sdk
```

### PNPM

```bash
pnpm add @chatafrika/sdk
```

## Requirements

- Node.js 16+ or modern browser
- WebSocket support (native in browsers, use `ws` package for Node.js)

## Basic Setup

### Browser / React / Vue / etc.

```typescript
import { ChatAfrika } from '@chatafrika/sdk';

const client = new ChatAfrika({
  wsUrl: 'wss://ws.dev.chaterafrika.com',
  token: 'your-sdk-token',
  debug: true // Enable for development
});

await client.connect();
```

### Node.js

For Node.js environments, the SDK uses the native WebSocket when available:

```typescript
import { ChatAfrika } from '@chatafrika/sdk';

const client = new ChatAfrika({
  wsUrl: 'wss://ws.dev.chaterafrika.com',
  token: 'your-sdk-token',
  debug: true
});

await client.connect();
```

## Configuration Options

```typescript
interface ClientConfig {
  // Required
  wsUrl: string;              // WebSocket server URL
  token: string;              // SDK authentication token

  // Optional
  apiUrl?: string;            // REST API URL (for future use)
  debug?: boolean;            // Enable debug logging (default: false)
  autoReconnect?: boolean;    // Auto-reconnect on disconnect (default: true)
  maxReconnectAttempts?: number; // Max reconnect attempts (default: 5)
  reconnectDelay?: number;    // Initial reconnect delay in ms (default: 1000)
}
```

### Example Configuration

```typescript
const client = new ChatAfrika({
  wsUrl: 'wss://ws.dev.chaterafrika.com',
  token: 'your-sdk-token',
  apiUrl: 'https://api.chaterafrika.com', // Optional
  debug: process.env.NODE_ENV === 'development',
  autoReconnect: true,
  maxReconnectAttempts: 10,
  reconnectDelay: 2000
});
```

## Getting Your SDK Token

SDK tokens are short-lived tokens (15 minutes) used for WebSocket authentication.

### Step 1: Login to get access token

```bash
curl -X POST https://api.chaterafrika.com/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "your-email@example.com",
    "password": "your-password"
  }'
```

### Step 2: Exchange for SDK token

```bash
curl -X POST https://api.chaterafrika.com/api/v1/auth/sdk-token \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "app_id": "your-app-id"
  }'
```

Response:
```json
{
  "sdk_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

## Verifying Installation

```typescript
import { ChatAfrika, ConnectionState } from '@chatafrika/sdk';

const client = new ChatAfrika({
  wsUrl: 'wss://ws.dev.chaterafrika.com',
  token: 'your-sdk-token'
});

// Listen for connection state
client.on('connected', () => {
  console.log('✅ SDK connected successfully!');
  console.log('State:', client.getState()); // ConnectionState.CONNECTED
});

client.on('error', (error) => {
  console.error('❌ Connection error:', error);
});

// Connect
try {
  await client.connect();
} catch (error) {
  console.error('Failed to connect:', error);
}
```

## Framework Integration

### React

```tsx
import { useEffect, useState } from 'react';
import { ChatAfrika, ConnectionState } from '@chatafrika/sdk';

function useChatAfrika(token: string) {
  const [client, setClient] = useState<ChatAfrika | null>(null);
  const [state, setState] = useState<ConnectionState>(ConnectionState.DISCONNECTED);

  useEffect(() => {
    const chatClient = new ChatAfrika({
      wsUrl: 'wss://ws.dev.chaterafrika.com',
      token,
      debug: true
    });

    chatClient.on('state', setState);
    chatClient.connect();

    setClient(chatClient);

    return () => {
      chatClient.disconnect();
    };
  }, [token]);

  return { client, state };
}

// Usage
function ChatComponent({ token }) {
  const { client, state } = useChatAfrika(token);

  if (state !== ConnectionState.CONNECTED) {
    return <div>Connecting...</div>;
  }

  return <div>Connected!</div>;
}
```

### Vue 3

```vue
<script setup lang="ts">
import { ref, onMounted, onUnmounted } from 'vue';
import { ChatAfrika, ConnectionState } from '@chatafrika/sdk';

const props = defineProps<{ token: string }>();

const client = ref<ChatAfrika | null>(null);
const state = ref<ConnectionState>(ConnectionState.DISCONNECTED);

onMounted(async () => {
  client.value = new ChatAfrika({
    wsUrl: 'wss://ws.dev.chaterafrika.com',
    token: props.token,
    debug: true
  });

  client.value.on('state', (newState) => {
    state.value = newState;
  });

  await client.value.connect();
});

onUnmounted(() => {
  client.value?.disconnect();
});
</script>

<template>
  <div v-if="state === ConnectionState.CONNECTED">Connected!</div>
  <div v-else>Connecting...</div>
</template>
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Authentication" icon="key" href="/sdk/authentication">
    SDK authentication flow
  </Card>
  <Card title="Conversations" icon="comments" href="/sdk/conversations">
    Join and manage conversations
  </Card>
  <Card title="Messaging" icon="message" href="/sdk/messaging">
    Send and receive messages
  </Card>
  <Card title="Examples" icon="code" href="/sdk/examples">
    Complete code examples
  </Card>
</CardGroup>
